/*amd /xml/setting_ftp_detail.xml 13543 680be043dd8b88555220190943f30a32d56be4441d4ec45f70cfc4e7cf2d31f7 */
define({declaration:{A:{version:"1.0",encoding:"UTF-8"}},E:[{T:1,N:"html",A:{xmlns:"http://www.w3.org/1999/xhtml","xmlns:ev":"http://www.w3.org/2001/xml-events","xmlns:w2":"http://www.inswave.com/websquare","xmlns:xf":"http://www.w3.org/2002/xforms"},E:[{T:1,N:"head",E:[{T:1,N:"w2:type",E:[{T:3,text:"DEFAULT"}]},{T:1,N:"w2:buildDate"},{T:1,N:"xf:model",E:[{T:1,N:"w2:dataCollection",A:{baseNode:"map"},E:[{T:1,N:"w2:dataList",A:{id:"__ftp_setting_detail_data__",saveRemovedData:"true"},E:[{T:1,N:"w2:columnInfo",E:[{T:1,N:"w2:column",A:{id:"ftp_id",name:"ftp_id",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_name",name:"ftp_name",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_url",name:"ftp_url",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_type",name:"ftp_type",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_etc1",name:"ftp_etc1",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_etc2",name:"ftp_etc2",dataType:"text"}},{T:1,N:"w2:column",A:{id:"create_date",name:"create_date",dataType:"text"}},{T:1,N:"w2:column",A:{id:"update_date",name:"update_date",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_ip",name:"ftp_ip",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_port",name:"ftp_port",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_user_id",name:"ftp_user_id",dataType:"text"}},{T:1,N:"w2:column",A:{id:"ftp_user_pwd",name:"ftp_user_pwd",dataType:"text"}}]}]}]},{T:1,N:"w2:workflowCollection"}]},{T:1,N:"script",A:{type:"text/javascript",lazy:"false"},E:[{T:4,cdata:function(scopeObj){with(scopeObj)scwin.check_FTP_name_yn=!1,scwin.onpageload=function(){var view,save;"detailview"==localStorage.getItem("_ftp_setting_mode_")?(view=common.getLabel("lbl_setting_ftp_detail_detailView"),save=common.getLabel("lbl_save"),ftp_setting_title.setLabel(view),ftp_create_or_save_btn.setLabel(save),ftp_setting_name.setDisabled(!0),ftp_setting_url.setDisabled(!1),ftp_setting_ip.setDisabled(!1),ftp_setting_port.setDisabled(!1),ftp_setting_user_id.setDisabled(!1),ftp_setting_user_pwd.setDisabled(!1),scwin.ftpDetailView()):(view=common.getLabel("lbl_setting_ftp_detail_createView"),save=common.getLabel("lbl_create"),ftp_setting_title.setLabel(view),ftp_create_or_save_btn.setLabel(save),ftp_setting_name.setDisabled(!1),ftp_setting_url.setDisabled(!1),ftp_setting_ip.setDisabled(!1),ftp_setting_port.setDisabled(!1),ftp_setting_user_id.setDisabled(!1),ftp_setting_user_pwd.setDisabled(!1))},scwin.onpageunload=function(){},scwin.checkData=function(){var message,ftp_name=ftp_setting_name.getValue(),ftp_server_url=ftp_setting_url.getValue(),ftp_server_ip=ftp_setting_ip.getValue(),ftp_server_port=ftp_setting_port.getValue(),ftp_user_id=ftp_setting_user_id.getValue(),ftp_user_pwd=ftp_setting_user_pwd.getValue();common.checkAllInputText("CHECK_INPUT_TYPE_PROJECT_NAME",ftp_name);return common.isEmptyStr(ftp_name)?(message=common.getLabel("lbl_setting_ftp_detail_inputName"),alert(message),!1):(ftp_name=localStorage.getItem("_ftp_setting_mode_"),scwin.check_FTP_name_yn||"detailview"==ftp_name?""==ftp_server_url?(message=common.getLabel("lbl_setting_ftp_detail_urlInput"),alert(message),!1):""==ftp_server_ip?(message=common.getLabel("lbl_setting_ftp_detail_ipInput"),alert(message),!1):""==ftp_server_port?(message=common.getLabel("lbl_setting_ftp_detail_portInput"),alert(message),!1):""==ftp_user_id?(message=common.getLabel("lbl_setting_ftp_detail_idInput"),alert(message),!1):""!=ftp_user_pwd||(message=common.getLabel("lbl_setting_ftp_detail_pwdInput"),alert(message),!1):(message=common.getLabel("lbl_setting_ftp_detail_nameCheck"),alert(message),!1))},scwin.checkDataProjectName=function(){var message;return common.isEmptyStr(project_name)?(message=common.getLabel("lbl_check_project_name"),alert(message),!1):!!project_name_check_str||(message=common.getLabel("lbl_setting_ftp_detail_nameError"),alert(message),!1)},scwin.ftpDetailView=function(){var ftp_id=localStorage.getItem("_ftp_id_"),options={};options.action="/manager/ftp/setting/search/"+parseInt(ftp_id),options.mode="asynchronous",options.mediatype="application/json",options.method="GET",options.success=function(e){var temp,e=e.responseJSON;null!=e&&(temp={},ftp_setting_name.setValue(e.ftp_name),ftp_setting_url.setValue(e.ftp_url),ftp_setting_ip.setValue(e.ftp_ip),ftp_setting_port.setValue(e.ftp_port),ftp_setting_user_id.setValue(e.ftp_user_id),ftp_setting_user_pwd.setValue(e.ftp_user_pwd),temp.ftp_name=e.ftp_name,temp.ftp_url=e.ftp_url,temp.created_date=e.created_date,temp.updated_date=e.updated_date)},options.error=function(e){alert("code:"+request.status+"\nmessage:"+request.responseText+"\n")},$p.ajax(options)},scwin.saveftpSettingData=function(){var ftp_name=ftp_setting_name.getValue(),ftp_url=ftp_setting_url.getValue(),ftp_ip=ftp_setting_ip.getValue(),ftp_port=ftp_setting_port.getValue(),ftp_user_id=ftp_setting_user_id.getValue(),ftp_user_pwd=ftp_setting_user_pwd.getValue(),data={},ftp_name=("detailview"==localStorage.getItem("_ftp_setting_mode_")&&(data.ftp_id=localStorage.getItem("_ftp_id_")),data.ftp_name=ftp_name,data.ftp_url=ftp_url,data.ftp_ip=ftp_ip,data.ftp_port=ftp_port,data.ftp_user_id=ftp_user_id,data.ftp_user_pwd=ftp_user_pwd,__ftp_setting_detail_data__.setJSON([data]),__ftp_setting_detail_data__.getRowJSON(0));"detailview"==localStorage.getItem("_ftp_setting_mode_")?scwin.setftpSettingAndUpdate(ftp_name):scwin.setftpSettingAndInsert(ftp_name)},scwin.select_check_FTP_name=function(ftp_name){var data={};if(data.ftp_name=ftp_setting_name.getValue(),common.isEmptyStr(data.ftp_name))return message=common.getLabel("lbl_setting_ftp_detail_ftpName"),alert(message),!1;var message={action:"/manager/ftp/setting/search/checkName",mode:"asynchronous",mediatype:"application/json",method:"POST"};message.requestData=JSON.stringify(data),message.success=function(e){var data=e.responseJSON;200!==e.responseStatusCode&&201!==e.responseStatusCode||null!=data&&(e=common.getLabel("lbl_exist_name"),alert(e),scwin.check_FTP_name_yn=!1)},message.error=function(e){var message;500===e.responseStatusCode?(message=common.getLabel("lbl_can_use_name"),alert(message),scwin.check_FTP_name_yn=!0):alert("message:"+e.responseText+"\n")},$p.ajax(message)},scwin.setftpSettingAndInsert=function(ftp_setting_data){var options={action:"/manager/ftp/setting/create",mode:"asynchronous",mediatype:"application/json"};options.requestData=JSON.stringify(ftp_setting_data),options.method="POST",options.success=function(e){var message,data=e.responseJSON;200!==e.responseStatusCode&&201!==e.responseStatusCode||null==data?(message=common.getLabel("lbl_setting_ftp_detail_fail"),alert(message)):(message=common.getLabel("lbl_setting_ftp_detail_createInfo"),alert(message),$p.parent().wfm_main.setSrc("/xml/settings.xml"))},options.error=function(e){alert("message:"+e.responseText+"\n")},$p.ajax(options)},scwin.setftpSettingAndUpdate=function(ftp_setting_data){var options={action:"/manager/ftp/setting/update",mode:"asynchronous",mediatype:"application/json"};options.requestData=JSON.stringify(ftp_setting_data),options.method="POST",options.success=function(e){var message,data=e.responseJSON;200!==e.responseStatusCode&&201!==e.responseStatusCode||null==data?(message=common.getLabel("lbl_setting_ftp_detail_modifyFail"),alert(message)):(message=common.getLabel("lbl_setting_ftp_detail_modifyInfo"),alert(message),$p.parent().wfm_main.setSrc("/xml/settings.xml"))},options.error=function(e){alert("message:"+e.responseText+"\n")},$p.ajax(options)},scwin.btn_create_ftp_setting_onclick=function(e){scwin.checkData()&&scwin.saveftpSettingData()}}}]}]},{T:1,N:"body",A:{"ev:onpageload":"scwin.onpageload","ev:onpageunload":"scwin.onpageunload"},E:[{T:1,N:"xf:group",A:{class:"gallery_box",id:"",style:""},E:[{T:1,N:"xf:group",A:{class:"dfbox",id:"",style:""},E:[{T:1,N:"xf:group",A:{class:"fl"},E:[{T:1,N:"w2:textbox",A:{class:"gal_tit fl",id:"ftp_setting_title",label:"",style:"",useLocale:"true",localeRef:"lbl_setting_ftp_detail_setting"}}]},{T:1,N:"xf:group",A:{class:"fr",id:"",style:""},E:[{T:1,N:"xf:trigger",A:{class:"btn_cm type1 fl",id:"ftp_create_or_save_btn",style:"",type:"button","ev:onclick":"scwin.btn_create_ftp_setting_onclick",useLocale:"true",localeRef:"lbl_create"},E:[{T:1,N:"xf:label"}]}]}]},{T:1,N:"xf:group",A:{class:"gal_body",id:"",style:""},E:[{T:1,N:"xf:group",A:{id:"",style:"",class:"form_wrap"},E:[{T:1,N:"xf:group",A:{id:"",style:"",class:"",tagname:"ul"},E:[{T:1,N:"xf:group",A:{id:"",style:"",class:"",tagname:"li"},E:[{T:1,N:"w2:textbox",A:{id:"",style:"",class:"form_name",label:"",useLocale:"true",localeRef:"lbl_setting_ftp_detail_name"}},{T:1,N:"xf:group",A:{class:"ipt_box",id:"",style:""},E:[{T:1,N:"xf:input",A:{id:"ftp_setting_name",style:"",adjustMaxLength:"false"}},{T:1,N:"xf:trigger",A:{id:"",style:"",class:"btn_cm",type:"button","ev:onclick":"scwin.select_check_FTP_name",useLocale:"true",localeRef:"lbl_dup_check"},E:[{T:1,N:"xf:label"}]}]}]},{T:1,N:"xf:group",A:{id:"",style:"",class:"",tagname:"li"},E:[{T:1,N:"w2:textbox",A:{id:"",style:"",class:"form_name",label:"",useLocale:"true",localeRef:"lbl_setting_ftp_detail_url"}},{T:1,N:"xf:group",A:{id:"",style:"",class:"ipt_box"},E:[{T:1,N:"xf:input",A:{id:"ftp_setting_url",style:"",adjustMaxLength:"false"}}]}]},{T:1,N:"xf:group",A:{id:"",style:"",class:"",tagname:"li"},E:[{T:1,N:"w2:textbox",A:{id:"",style:"",class:"form_name",label:"",useLocale:"true",localeRef:"lbl_setting_ftp_detail_ip"}},{T:1,N:"xf:group",A:{id:"",style:"",class:"ipt_box"},E:[{T:1,N:"xf:input",A:{id:"ftp_setting_ip",style:"",adjustMaxLength:"false"}}]}]},{T:1,N:"xf:group",A:{id:"",style:"",class:"",tagname:"li"},E:[{T:1,N:"w2:textbox",A:{id:"",style:"",class:"form_name",label:"",useLocale:"true",localeRef:"lbl_setting_ftp_detail_port"}},{T:1,N:"xf:group",A:{id:"",style:"",class:"ipt_box"},E:[{T:1,N:"xf:input",A:{id:"ftp_setting_port",style:"",adjustMaxLength:"false"}}]}]},{T:1,N:"xf:group",A:{id:"",style:"",class:"",tagname:"li"},E:[{T:1,N:"w2:textbox",A:{id:"",style:"",class:"form_name",label:"",useLocale:"true",localeRef:"lbl_setting_ftp_detail_id"}},{T:1,N:"xf:input",A:{id:"ftp_setting_user_id",style:"",adjustMaxLength:"false"}}]},{T:1,N:"xf:group",A:{id:"",style:"",class:"",tagname:"li"},E:[{T:1,N:"w2:textbox",A:{id:"",style:"",class:"form_name",label:"",useLocale:"true",localeRef:"lbl_setting_ftp_detail_password"}},{T:1,N:"xf:input",A:{id:"ftp_setting_user_pwd",dataType:"password",type:"password",style:"",adjustMaxLength:"false"}}]}]}]}]}]}]}]}]});
