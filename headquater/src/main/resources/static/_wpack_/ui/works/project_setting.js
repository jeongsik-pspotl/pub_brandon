/*amd /ui/works/project_setting.xml 11007 d15f4941d3f0a886c1d5480cb1fd415f71f99316125f993a076b9e9e305bf120 */
define({declaration:{A:{version:'1.0',encoding:'UTF-8'}},E:[{T:1,N:'html',A:{xmlns:'http://www.w3.org/1999/xhtml','xmlns:ev':'http://www.w3.org/2001/xml-events','xmlns:w2':'http://www.inswave.com/websquare','xmlns:xf':'http://www.w3.org/2002/xforms'},E:[{T:1,N:'head',E:[{T:1,N:'w2:type',E:[{T:3,text:'COMPONENT'}]},{T:1,N:'w2:buildDate'},{T:1,N:'w2:MSA'},{T:1,N:'xf:model',E:[{T:1,N:'w2:dataCollection',A:{baseNode:'map'},E:[{T:1,N:'w2:dataList',A:{id:'dtl_steps',saveRemovedData:'true'},E:[{T:1,N:'w2:columnInfo',E:[{T:1,N:'w2:column',A:{id:'INDEX',name:'INDEX',dataType:'text'}},{T:1,N:'w2:column',A:{id:'FRAMEID',name:'FRAMEID',dataType:'text'}},{T:1,N:'w2:column',A:{id:'FRAMESRC',name:'FRAMESRC',dataType:'text'}},{T:1,N:'w2:column',A:{id:'MENUID',name:'MENUID',dataType:'text'}}]},{T:1,N:'w2:data',A:{use:'true'},E:[{T:1,N:'w2:row',E:[{T:1,N:'INDEX',E:[{T:4,cdata:'1'}]},{T:1,N:'FRAMEID',E:[{T:4,cdata:'wfm_project_setting_step1'}]},{T:1,N:'FRAMESRC',E:[{T:4,cdata:'/ui/works/project_setting_step01.xml'}]},{T:1,N:'MENUID',E:[{T:4,cdata:'grp_step1'}]}]},{T:1,N:'w2:row',E:[{T:1,N:'INDEX',E:[{T:4,cdata:'2'}]},{T:1,N:'FRAMEID',E:[{T:4,cdata:'wfm_project_setting_step2'}]},{T:1,N:'FRAMESRC',E:[{T:4,cdata:'/ui/works/project_setting_step02.xml'}]},{T:1,N:'MENUID',E:[{T:4,cdata:'grp_step2'}]}]},{T:1,N:'w2:row',E:[{T:1,N:'INDEX',E:[{T:4,cdata:'3'}]},{T:1,N:'FRAMEID',E:[{T:4,cdata:'wfm_project_setting_step3'}]},{T:1,N:'FRAMESRC',E:[{T:4,cdata:'/ui/works/project_setting_step03.xml'}]},{T:1,N:'MENUID',E:[{T:4,cdata:'grp_step3'}]}]}]}]},{T:1,N:'w2:dataList',A:{id:'dtl_build_setting_step1',saveRemovedData:'true'},E:[{T:1,N:'w2:columnInfo',E:[{T:1,N:'w2:column',A:{id:'project_id',name:'project_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'workspace_id',name:'workspace_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'project_name',name:'project_name',dataType:'text'}},{T:1,N:'w2:column',A:{id:'product_type',name:'product_type',dataType:'text'}},{T:1,N:'w2:column',A:{id:'platform',name:'platform',dataType:'text'}},{T:1,N:'w2:column',A:{id:'platform_language',name:'platform_language',dataType:'text'}},{T:1,N:'w2:column',A:{id:'target_server',name:'target_server',dataType:'text'}},{T:1,N:'w2:column',A:{id:'description',name:'description',dataType:'text'}},{T:1,N:'w2:column',A:{id:'status',name:'status',dataType:'text'}},{T:1,N:'w2:column',A:{id:'template_version',name:'template_version',dataType:'text'}},{T:1,N:'w2:column',A:{id:'project_dir_path',name:'project_dir_path',dataType:'text'}},{T:1,N:'w2:column',A:{id:'created_date',name:'created_date',dataType:'text'}},{T:1,N:'w2:column',A:{id:'updated_date',name:'updated_date',dataType:'text'}},{T:1,N:'w2:column',A:{id:'builder_id',name:'builder_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'vcs_id',name:'vcs_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'ftp_id',name:'ftp_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'key_id',name:'key_id',dataType:'text'}}]}]},{T:1,N:'w2:dataList',A:{id:'dtl_build_setting_step2',saveRemovedData:'true'},E:[{T:1,N:'w2:columnInfo',E:[{T:1,N:'w2:column',A:{id:'project_setting_id',name:'project_setting_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'project_id',name:'project_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_id',name:'app_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_name',name:'app_name',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_version',name:'app_version',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_version_code',name:'app_version_code',dataType:'text'}},{T:1,N:'w2:column',A:{id:'server_URL',name:'server_URL',dataType:'text'}},{T:1,N:'w2:column',A:{id:'package_name',name:'package_name',dataType:'text'}},{T:1,N:'w2:column',A:{id:'min_target_version',name:'min_target_version',dataType:'text'}}]}]},{T:1,N:'w2:dataList',A:{id:'dtl_build_setting_step2_temp',saveRemovedData:'true'},E:[{T:1,N:'w2:columnInfo',E:[{T:1,N:'w2:column',A:{id:'project_setting_id',name:'project_setting_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'project_id',name:'project_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_id',name:'app_id',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_name',name:'app_name',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_version',name:'app_version',dataType:'text'}},{T:1,N:'w2:column',A:{id:'app_version_code',name:'app_version_code',dataType:'text'}},{T:1,N:'w2:column',A:{id:'server_URL',name:'server_URL',dataType:'text'}},{T:1,N:'w2:column',A:{id:'package_name',name:'package_name',dataType:'text'}}]}]},{T:1,N:'w2:dataList',A:{id:'dtl_plugin_setting_installed_step3',saveRemovedData:'true'},E:[{T:1,N:'w2:columnInfo',E:[{T:1,N:'w2:column',A:{id:'installed_plugin_module',name:'installed_plugin_module',dataType:'text'}},{T:1,N:'w2:column',A:{id:'installed_plugin_version',name:'installed_plugin_version',dataType:'text'}},{T:1,N:'w2:column',A:{id:'installed_plugin_name',name:'installed_plugin_name',dataType:'text'}},{T:1,N:'w2:column',A:{id:'installed_plugin_type',name:'installed_plugin_type',dataType:'text'}}]}]},{T:1,N:'w2:dataList',A:{id:'dtl_plugin_setting_available_step3',saveRemovedData:'true'},E:[{T:1,N:'w2:columnInfo',E:[{T:1,N:'w2:column',A:{id:'available_plugin_module',name:'available_plugin_module',dataType:'text'}},{T:1,N:'w2:column',A:{id:'available_plugin_version',name:'available_plugin_version',dataType:'text'}},{T:1,N:'w2:column',A:{id:'available_plugin_name',name:'available_plugin_name',dataType:'text'}},{T:1,N:'w2:column',A:{id:'available_plugin_type',name:'available_plugin_type',dataType:'text'}}]}]},{T:1,N:'w2:dataList',A:{id:'dtl_plugin_setting_available_premium_step3',saveRemovedData:'true'},E:[{T:1,N:'w2:columnInfo',E:[{T:1,N:'w2:column',A:{id:'available_plugin_module',name:'available_plugin_module',dataType:'text'}},{T:1,N:'w2:column',A:{id:'available_plugin_version',name:'available_plugin_version',dataType:'text'}},{T:1,N:'w2:column',A:{id:'available_plugin_name',name:'available_plugin_name',dataType:'text'}},{T:1,N:'w2:column',A:{id:'available_plugin_type',name:'available_plugin_type',dataType:'text'}}]}]}]},{T:1,N:'w2:workflowCollection'}]},{T:1,N:'w2:layoutInfo'},{T:1,N:'w2:publicInfo',A:{method:''}},{T:1,N:'script',A:{lazy:'false',type:'text/javascript'},E:[{T:4,cdata:function(scopeObj){with(scopeObj){
            scwin.getResultAppConfigData;
            scwin.txt_project_all_step_platform = "";

            scwin.onpageload = function() {
                const project_id = $p.top().scwin.buildProjecPkId;

                scwin.select_build_project_id(project_id);
                //scwin.select_deploy_setting_id(project_id);
            };

            scwin.selected_step = function(selected){
                const jsonData = dtl_steps.getAllJSON();
                for(let obj in jsonData){
                    const row = jsonData[obj];
                    if(row.INDEX == selected){
                        const temp = $p.getComponentById(row.FRAMEID);
                        if(temp.getSrc() == ""){
                            temp.setSrc(row.FRAMESRC);
                        }
                        $p.getComponentById(row.FRAMEID).show();
                        //$p.getComponentById(row.MENUID).addClass("on");
                    } else {
                        $p.getComponentById(row.FRAMEID).hide();
                        //$p.getComponentById(row.MENUID).removeClass("on");
                    }
                }
            };

            scwin.select_build_project_id = function(build_id){
                const uri = common.uri.settingProjectConfig(build_id);
                common.http.fetchGet(uri,"GET",{"Content-Type":"application/json"}).then((res)=>{
                    return res.json();
                }).then((data)=>{
                    if(data !== null){
                        let buildproj = [];
                        buildproj.push(data);

                        let distict = common.unique(buildproj, 'project_id');
                        dtl_build_setting_step1.setJSON(distict);
                        //const message = common.getLabel("lbl_project_setting_title");
                        //txt_setting_project_name.setValue(data.project_name+" "+message); // Project 설정
                        //localStorage.setItem("__workspace_id__",data.workspace_id);

                        // /ui/works/proejct_setting_step01.xml
                        const path = $p.top().scwin.convertMenuCodeToPath("m0100020100");
                        if(path != null){
                            wfm_project_setting_step1.setSrc(path);
                        }
                    }
                }).catch((err)=>{
                    common.win.alert("error:"+err);
                });
            };

            scwin.select_build_setting_id = function(project_id){
                const uri = common.uri.settingProjectDetail(project_id);
                common.http.fetchGet(uri,"GET",{"Content-Type":"application/json"}).then((res)=>{
                    return res.json();
                }).then((data)=>{
                    if(data !== null){
                        let buildsetting = [];
                        let message = "";

                        message = common.getLabel("lbl_project_setting_js_check_server_setting");
                        btn_proejct_step03.setValue(message); //Server 설정 조회

                        buildsetting.push(data);

                        const distict = common.unique(buildsetting, 'project_setting_id');
                        dtl_build_setting_step2.setJSON(distict);
                        dtl_build_setting_step2_temp.setJSON(distict);
                    }
                }).catch((err)=>{
                    common.win.alert("error:"+err);
                });
            };

            scwin.select_deploy_setting_id = function(build_id){
                // deploy setting cotroller 구현하기
                const uri = common.uri.settingGetBuildId(build_id);
                common.http.fetchGet(uri,"GET",{"Content-Type":"application/json"}).then((res)=>{
                    return res.json();
                }).then((data)=>{
                    if(data != null){
                        let deploysetting = [];
                        deploysetting.push(data);
                        //localStorage.setItem("deploy_setting_pid",data.deploy_id);
                        //const distict = common.unique(deploysetting, 'deploy_id');
                        //dtl_deploy_setting_step4.setJSON(distict);
                    }
                }).catch((err)=>{
                    common.win.alert("error:"+err);
                });
            };

            
}}}]}]},{T:1,N:'body',A:{'ev:onpageload':'scwin.onpageload'},E:[{T:1,N:'w2:wframe',A:{id:'wfm_project_setting_step1',style:'display:block;width:100%;height:100%;',src:'',scope:'true'}},{T:1,N:'w2:wframe',A:{id:'wfm_project_setting_step2',style:'display:none;',src:'',scope:'true'}},{T:1,N:'w2:wframe',A:{id:'wfm_project_setting_step3',style:'display:none;',src:'',scope:'true'}}]}]}]})